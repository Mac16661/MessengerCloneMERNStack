(this["webpackJsonpmessenger-react-starter-project"]=this["webpackJsonpmessenger-react-starter-project"]||[]).push([[0],{50:function(e,t,a){e.exports=a(86)},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),o=(a(55),a(27)),m=a.n(o),u=a(37),l=a(26),i=(a(57),a(106)),p=a(108),f=a(109),g=a(104),b=a(105),d=(a(58),Object(n.forwardRef)((function(e,t){var a=e.message,n=e.username===a.username;return r.a.createElement("div",{ref:t,className:"message ".concat(n&&"message__user")},r.a.createElement(f.a,{className:n?"message__userCard":"message__guestCard"},r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"white",variant:"h5",component:"h2"},!n&&"".concat(a.username||"Unknown user",":")," ",a.message))))}))),h=a(46),v=a(45),E=a.n(v),w=a(107),_=a(43),j=a.n(_).a.create({baseURL:"https://mern-messenger-live1.herokuapp.com/"}),O=a(44),k=new(a.n(O).a)("33ee0bbb9df78837c49e",{cluster:"ap2"});var y=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),f=o[0],g=o[1],b=Object(n.useState)(""),v=Object(l.a)(b,2),_=v[0],O=v[1],y=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/retrieve/conversation").then((function(e){g(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),Object(n.useEffect)((function(){k.subscribe("messages").bind("newMessages",(function(e){console.log(e),y()}))}),[_]),Object(n.useEffect)((function(){O(prompt("Please enter your name"))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("img",{src:"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100",alt:"messenger logo"}),r.a.createElement("h2",null,"Welcome ",_),r.a.createElement("form",{className:"app__form"},r.a.createElement(i.a,{className:"app__formControl"},r.a.createElement(p.a,{className:"app__input",placeholder:"Enter a message...",value:a,onChange:function(e){return s(e.target.value)}}),r.a.createElement(w.a,{className:"app__iconButton",variant:"text",color:"primary",disabled:!a,onClick:function(e){e.preventDefault(),j.post("/save/message",{username:_,message:a,timestamp:Date.now()}),s("")},type:"submit"},r.a.createElement(E.a,null)))),r.a.createElement(h.a,null,f.map((function(e){return r.a.createElement(d,{key:e._id,message:e,username:_})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.261dccf0.chunk.js.map